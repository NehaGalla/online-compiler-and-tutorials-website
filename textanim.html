
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/splitText.css" />
    <link rel="stylesheet" href="css/main.css">
    <script src="js/modernizr-2.6.2.min.js"></script>
    <script src="js/TweenMax.min.js"></script>

    <link href="css/jquery-ui-1.9.1.custom.css" rel="stylesheet" type="text/css">
   <style>
        body {
            background-color: #000;
            color: #fff;
        }

        #demo {
            width: 692px;
            height: 100px;
            background-color: #333;
            padding: 8px;
        }

        #demoBackground {
            position: relative;
            background-color: #000;
            overflow: hidden;
            width: 692px;
            height: 100px;
            visibility: hidden;
        }

        #logo {
            position: absolute;
            background: url(img/logo_black.jpg) no-repeat;
            height: 60px;
            width: 60px;
            top: 6px;
        }

        .sliderHolder {
            margin-top: 16px;
            float: left;
            width: 280px;
        }

            .sliderHolder p {
                margin: 0px;
                font-size: 14px;
            }

        .slider {
            width: 270px;
            margin: 4px 0px 8px 6px;
        }

        #txtContainer {
            position: absolute;
            left: 55px;
            top: 14px;
        }

      
        .txt {
            font: 36px monospace;
            position: absolute;
            color: #afafaf;
            font-weight: bold;
            left: 0px;
            top: 0;
        }
    </style>
</head>

<body>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
    <script src="js/plugins.js"></script>
    <script src="js/example.js"></script>
    <script src="js/SplitTextPlugin.js" type="text/javascript"></script>
    <p id="msg"></p>
    <div id="blockBlack2" class="blocks">
        <p class="splitText" id="matrix">In 1978, Brian Kernighan and Dennis Ritchie produced the first publicly available description of C, now known as the K</p>
        <div class="controls">
             

            <div class='play'></div>
            <div class="next"></div>
        </div>
    </div>
    <div id="blockWhite" class="selected">
        <p class="splitText" id="slide" style="color:black">C is a general-purpose, high-level language that was originally developed by Dennis M. Ritchie to develop the UNIX operating system at Bell Labs. C was originally first implemented on the DEC PDP-11 computer in 1972.
            In 1978, Brian Kernighan and Dennis Ritchie produced the first publicly available description of C, now known as the K and R standard.</p>
        <div class="controls">
            <div class='play' title="animate" id="play"></div>
            <div class='resume' title="animate" id="resume"></div>
            <div class="next" title="next"></div>
        </div>
    </div>
    <script>
        var matrix = $("#matrix").splitText({
            'type': 'letters',
            'animation': 'matrix'
        });
        var slide = $("#slide").splitText({
            'type': 'lines',
            'animation': 'slide'
        });

      /* $(".play").on('click', function () {

            if (selectedSlide == 'blockWhite') {
                slide.animate();
            }
            else if (selectedSlide == 'blockGrey') {
                smoke.animate();
            }
            else if (selectedSlide == 'blockRed') {
                explode.animate();
            }
            else if (selectedSlide == 'blockGreen') {
                threeD.animate();
            }
            else if (selectedSlide == 'blockBlue') {
                scramble.animate();
            }
            else if (selectedSlide == 'blockBlack') {
                blackout.animate();
            }
            else if (selectedSlide == 'blockBlack2') {
                matrix.animate();
            }
            else if (selectedSlide == 'blockNavyBlue') {
                machinegun.animate();
            }
            else if (selectedSlide == 'blockOrange') {

                $("#" + splitOnlyWords.id).empty().html(splitOnlyWords.value);

                console.log(splitOnlyLetters.value);
                $("#" + splitOnlyLetters.id).empty().html(splitOnlyLetters.value);

                console.log(splitOnlyLines.value);
                $("#" + splitOnlyLines.id).empty();

                $.each(splitOnlyLines.value, function (index, value) {

                    var item = "<div class='split-lines'>" + value.text + "</div>";

                    $("#" + splitOnlyLines.id).append(item);

                });

                $("#blockOrange>.splitText>div").addClass('justSplit');
            }

        });*/
        $(".next").on('click', function () {

            var nChildren = $("#mainContainer").children().length;
            var index = $("#mainContainer").children(".selected").index();

            if (index == 0) { console.log('the end'); }
            else {
                TweenMax.to($(".selected"), 0.8, {
                    'right': -2000, onComplete: function () {
                        $(".selected").removeClass('selected');
                        $("#mainContainer").children("div").eq(index - 1).addClass('selected');
                        selectedSlide = $("#mainContainer").children("div").eq(index - 1).attr('id');

                        if ($(".selected").attr('id') == 'blockNavyBlue') {
                            matrix.animate();
                        }

                    }
                });
            }
        });
    </script>
 <!--   <div id="blockWhite" class="selected">
        <p class="splitText" id="slide">YOUR FAVORITE SAMPLE TEXT NOW HAS A COOL ANIMATION ... Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
        <div class="controls">
            <div class="back" title="previous"></div>
            <div class="arrowleft" title="undo"></div>
            <div class='play' title="animate"></div>
            <div class="next" title="next"></div>
        </div>
    </div>-->


   
  <!---->  <div id="demo" style="width:1200px; height:400px">
      

            <div id="demoBackground" style="width:1200px; height:400px">
                <div id="logo"></div>
                <div id="txtContainer" style="width:1200px;height:400px">


                </div>

            </div>
        </div>-->

      <!--  <div class="sliderHolder">
            <p class="output">progress(): <span id="progressValue"></span><span style="float:right;">time(): <span id="timeValue"></span></span></p>
            <div id="progressSlider" class="slider"></div>
        </div>

        <input type="button" id="startbtn" style="margin:30px;" value="init()">
        <input type="button" id="restartBtn" style="margin:30px;" value="restart()">
        <input type="button" id="paused" style="margin:30px;" value="restart()">-->
        <div id="page-wrapper">




            <input type="text" name="speech-msg" id="speech-msg" x-webkit-speech hidden="hidden">

            <div class="option">
                <label for="voice">Voice</label>
                <select name="voice" id="voice"></select>
            </div>
            <div class="option">
                <label for="volume">Volume</label>
                <input type="range" min="0" max="1" step="0.1" name="volume" id="volume" value="1">
            </div>
            <div class="option">
                <label for="rate">Rate</label>
                <input type="range" min="0.1" max="10" step="0.1" name="rate" id="rate" value="0.75">
            </div>
            <div class="option">
                <label for="pitch">Pitch</label>
                <input type="range" min="0" max="2" step="0.1" name="pitch" id="pitch" value="1">
            </div>



        </div>
       <!-- <script type="text/javascript" src="js/TweenMax.min.js"></script>
      
        <script src="js/jquery-1.8.2.js"></script>
        <script src="js//jquery-ui-1.9.1.custom.min.js"></script>
       
        <script src="js/jquery.ui.touch-punch.js"></script>-->

        <script>

        /*    $(window).load(function () {
                var logo = $("#logo"),
                    progressValue = $("#progressValue"),

                    timeValue = $("#timeValue"),
                    totalTimeValue = $("#totalTimeValue"),
                    startbtn = $("#startbtn"),
                    restartBtn = $("#restartBtn"),
                    txtContainer = $("#txtContainer"),

                    tl, t2,
                    progressSlider,
                    txt,
                txt2;

              

                progressSlider = $("#progressSlider").slider({
                    range: false,
                    min: 0,
                    max: 100,
                    step: .1,
                    slide: function (event, ui) {
                        tl.pause();
                        tl.progress(ui.value / 100);
                    }
                });





               

                function splitText(phrase) {
                    var prevLetter, sentence,
                        sentence = phrase.split("");
                    $.each(sentence, function (index, val) {
                      

                        if (val === " ") {
                            val = "&nbsp;";
                        }
                        var letter = $("<div/>", {
                            id: "txt" + index
                        }).addClass('txt').html(val).appendTo(txtContainer);

                        if (prevLetter) {
                            $(letter).css("left", ($(prevLetter).position().left + $(letter).width()) + "px");
                        };
                        prevLetter = letter;
                    });
                    txt = $(".txt");
                }



                function buildTimeline() {

                    //note this timeline uses 3D transforms which will only work in recent versions of Safari, Chrome, and FireFox. IE10 will support 3D transforms as well. All other browsers simply will not show those properties being tweened.

                    TweenLite.set(txtContainer, { css: { perspective: 500 } });

                    tl = new TimelineMax({ onUpdate: updateUI, repeat: 0, repeatDelay: 1, yoyo: true });
                    tl.from(logo, 0.5, { left: '-=60px', ease: Back.easeOut });
                    tl.staggerFrom(txt, 0.4, { alpha: 0 }, 0.06, "textEffect");

                    //tl.staggerFrom(txt, 0.8, {rotationY:"-270deg", top:80, transformOrigin: "50% 50% -80", ease:Back.easeOut}, 0.06, "textEffect");
                    //tl.staggerTo(txt, 0.6, {rotationX:"360deg", color:"#90e500", transformOrigin:"50% 50% 10"}, 0.02);
                }

               

                function updateUI() {
                    //change slider value
                    progressSlider.slider("value", tl.progress() * 100);
                    totalProgressSlider.slider("value", tl.totalProgress() * 100);

                    //update display of values
                    progressValue.html(tl.progress().toFixed(2));
                    totalProgressValue.html(tl.totalProgress().toFixed(2));
                    timeValue.html(tl.time().toFixed(2));
                    totalTimeValue.html(tl.totalTime().toFixed(2));
                }

                restartBtn.click(function () {
                    //Start playing from a progress of 0.
                    tl.restart();
                });

                function init() {
                    splitText("C is a general-purpose, procedural,");


                    buildTimeline();
                    //show the demoBackground div after DOM is ready and all images loaded
                    TweenLite.set($("#demoBackground"), { visibility: "visible" });
                }


                startbtn.click(function () {
                    init();


                });
            });*/
            /*
            * Check for browser support
            */
            var supportMsg = document.getElementById('msg');

            if ('speechSynthesis' in window) {
                supportMsg.innerHTML = 'Your browser <strong>supports</strong> speech synthesis.';
            } else {
                supportMsg.innerHTML = 'Sorry your browser <strong>does not support</strong> speech synthesis.<br>Try this in <a href="http://www.google.co.uk/intl/en/chrome/browser/canary.html">Chrome Canary</a>.';
                supportMsg.classList.add('not-supported');
            }


            // Get the 'speak' button
            var button = document.getElementById('play');
            var pauses = document.getElementById('paused');
            // Get the text input element.
            var speechMsgInput = "C is a general-purpose, high-level language that was originally developed by Dennis M. Ritchie to develop the UNIX operating system at Bell Labs. C was originally first implemented on the DEC PDP-11 computer in 1972.";//document.getElementById('machinegun');

            // Get the voice select element.
            var voiceSelect = document.getElementById('voice');

            // Get the attribute controls.
            var volumeInput = document.getElementById('volume');
            var rateInput = document.getElementById('rate');
            var pitchInput = document.getElementById('pitch');


            // Fetch the list of voices and populate the voice options.
            function loadVoices() {
                // Fetch the available voices.
                var voices = speechSynthesis.getVoices();

                // Loop through each of the voices.
                voices.forEach(function (voice, i) {
                    // Create a new option element.
                    var option = document.createElement('option');

                    // Set the options value and text.
                    option.value = voice.name;
                    option.innerHTML = voice.name;

                    // Add the option to the voice selector.
                    voiceSelect.appendChild(option);
                });
            }

            // Execute loadVoices.
            loadVoices();

            // Chrome loads voices asynchronously.
            window.speechSynthesis.onvoiceschanged = function (e) {
                loadVoices();
            };


            // Create a new utterance for the specified text and add it to
            // the queue.
            function speak(text) {
                // Create a new instance of SpeechSynthesisUtterance.
                var msg = new SpeechSynthesisUtterance();

                // Set the text.
                msg.text = text;

                // Set the attributes.
                msg.volume = parseFloat(volumeInput.value);
                msg.rate = parseFloat(rateInput.value);
                msg.pitch = parseFloat(pitchInput.value);

                // If a voice has been selected, find the voice and set the
                // utterance instance's voice attribute.
                if (voiceSelect.value) {
                    msg.voice = speechSynthesis.getVoices().filter(function (voice) { return voice.name == voiceSelect.value; })[0];
                }

                // Queue this utterance.
                window.speechSynthesis.speak(msg);
            }
            function pause(text) {
                // Create a new instance of SpeechSynthesisUtterance.
                var msg = new SpeechSynthesisUtterance();

                // Set the text.
                msg.text = text;

                // Set the attributes.
                msg.volume = parseFloat(volumeInput.value);
                msg.rate = parseFloat(rateInput.value);
                msg.pitch = parseFloat(pitchInput.value);

                // If a voice has been selected, find the voice and set the
                // utterance instance's voice attribute.
                if (voiceSelect.value) {
                    msg.voice = speechSynthesis.getVoices().filter(function (voice) { return voice.name == voiceSelect.value; })[0];
                }

                // Queue this utterance.
                window.speechSynthesis.speak(msg);
            }


            // Set up an event listener for when the 'speak' button is clicked.
            button.addEventListener('click', function (e) {
                if (speechMsgInput.value.length > 0) {
                    speak(speechMsgInput.value);
                }
            });
            resume.addEventListener('click', function (e) {
                if (speechMsgInput.value.length > 0) {
                    speak(speechMsgInput.value);
                }
            });

        </script>

</body>
</html>
